"use strict";(self.webpackChunkalpha_survey_app=self.webpackChunkalpha_survey_app||[]).push([[592],{8010:(n,a,s)=>{s.d(a,{k:()=>u});var o=s(3236),i=s(4028),y=s(5377),r=s(529),h=s(433),t=s(8256);let u=(()=>{class e{}return e.\u0275fac=function(_){return new(_||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[o.a,y.U,i.W],imports:[r.JF,h.u5]}),e})()},4028:(n,a,s)=>{s.d(a,{W:()=>y});var o=s(8256),i=s(5377);let y=(()=>{class r{constructor(t){this.dataSource=t,this.surveys=[],this.refresh()}refresh(){this.dataSource.getPubSurveys().subscribe(t=>{this.surveys=t,this.storeSurveyData(t)})}storeSurveyData(t){localStorage.setItem("surveys",JSON.stringify(t)),this.surveys=t}loadSurveys(){this.surveys=JSON.parse(localStorage.getItem("surveys"))}getSurvey(t){return this.loadSurveys(),this.surveys.find(u=>u._id==t)}getAllSurveys(){return this.loadSurveys(),this.surveys}createResponses(t){this.dataSource.addSurveyResponse(t).subscribe(u=>{this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(i.U))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()},5377:(n,a,s)=>{s.d(a,{U:()=>h});var o=s(529),i=s(8256);let h=(()=>{class t{constructor(e){this.http=e,this.httpOptions={headers:new o.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"})},this.baseUrl="http://localhost:3000/api/"}getPubSurveys(){return this.http.get(this.baseUrl+"survey-mgmt/list")}respondSurvey(e){return this.http.post(this.baseUrl+"surveys/respond"+e._id,e,this.httpOptions)}getSurveys(){return this.http.get(this.baseUrl+"survey-mgmt/list")}getSurveysByUsername(e){return this.http.get(this.baseUrl+"survey-mgmt/list/"+e)}addSurvey(e){return this.http.post(this.baseUrl+"survey-mgmt/add",e,this.httpOptions)}editSurvey(e,v){return this.http.post(this.baseUrl+"survey-mgmt/edit/"+v,e,this.httpOptions)}deleteSurvey(e){return this.http.post(this.baseUrl+"survey-mgmt/delete/"+e,this.httpOptions)}getSurveyQuestions(e){return this.http.get(this.baseUrl+"survey-mgmt/questions/"+e,this.httpOptions)}addSurveyResponse(e){return this.http.post(this.baseUrl+"pub-surveys/respond/add",e,this.httpOptions)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()},5700:(n,a,s)=>{s.d(a,{s:()=>o});class o{constructor(y,r,h,t,u){this._id=y,this.Survey_id=r,this.Survey_title=h,this.Survey_description=t,this.Survey_category=u}toString(){return`\n      Surveys\n      -------------------------------\n      Id         : ${this._id}\n      Survey_id      : ${this.Survey_id}\n      Survey_Title      : ${this.Survey_title}\n      Survey_Description: ${this.Survey_description}\n      Survey_Category   : ${this.Survey_category}\n      `}}},3236:(n,a,s)=>{s.d(a,{a:()=>y});var o=s(8256),i=s(5377);let y=(()=>{class r{constructor(t){this.dataSource=t,this.surveys=[],this.refresh()}refresh(){"admin"==localStorage.getItem("userrole")?this.dataSource.getSurveys().subscribe(t=>{this.surveys=t,this.storeSurveyData(t)}):this.dataSource.getSurveysByUsername(localStorage.getItem("username")).subscribe(t=>{this.surveys=t,this.storeSurveyData(t)})}storeSurveyData(t){localStorage.setItem("surveys",JSON.stringify(t)),this.surveys=t}loadSurveys(){this.surveys=JSON.parse(localStorage.getItem("surveys"))}getSurvey(t){return this.loadSurveys(),this.surveys.find(u=>u._id==t)}getAllSurveys(){return this.loadSurveys(),this.surveys}modifySurveys(t,u){null===u||0==u?this.dataSource.addSurvey(t).subscribe(e=>{this.refresh()}):this.dataSource.editSurvey(t,u).subscribe(e=>{this.refresh()})}createSurvey(t){this.dataSource.addSurvey(t).subscribe(u=>{this.refresh()})}deleteSurvey(t){this.dataSource.deleteSurvey(t).subscribe(u=>{this.refresh()})}getSurveyQuestions(t){return this.dataSource.getSurveyQuestions(t)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(i.U))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()}}]);