"use strict";(self.webpackChunkalpha_survey_app=self.webpackChunkalpha_survey_app||[]).push([[868],{6868:(T,c,a)=>{a.r(c),a.d(c,{SurveyModule:()=>S});var m=a(6895),p=a(8010),i=a(433),l=a(6773),e=a(8256),y=a(3236);function v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",9)(8,"a",13),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editSurvey(u._id))}),e._UZ(9,"i",14),e._uU(10,"Update"),e.qZA()(),e.TgZ(11,"td",9)(12,"a",15),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteSurvey(u._id))}),e._UZ(13,"i",16),e._uU(14,"Remove"),e.qZA()()()}if(2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.Survey_title),e.xp6(2),e.Oqu(t.Survey_description),e.xp6(2),e.Oqu(t.Survey_category)}}let g=(()=>{class r{constructor(t,o,s){this.repository=t,this.route=o,this.router=s}ngOnInit(){this.title=this.route.snapshot.data.title,this.repository.refresh()}get surveys(){return this.repository.getAllSurveys()}editSurvey(t){this.router.navigateByUrl("/survey-mgmt/edit/"+t)}deleteSurvey(t){this.repository.deleteSurvey(t),this.router.navigateByUrl("/survey-mgmt/list")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(y.a),e.Y36(l.gz),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-survey-listing"]],decls:27,vars:1,consts:[[1,"body-background"],[1,"container"],[1,"row"],[1,"col-md-offset-1","col-md-10"],[1,"darkText"],["routerLink","/survey-mgmt/add","role","button",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-striped","table-hover",2,"background-color","white"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"col-md-offset-1","col-md-10","text-center"],["id","myPager",1,"pagination","pagination-lg","pager"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-pencil-alt"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,o){1&t&&(e.TgZ(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Surveys"),e.qZA(),e.TgZ(6,"a",5),e._UZ(7,"i",6),e._uU(8,"Create a Survey"),e.qZA(),e._UZ(9,"br")(10,"br"),e.TgZ(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th"),e._uU(16,"Survey Title"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"Survey Description"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Survey Category"),e.qZA(),e._UZ(21,"th",9)(22,"th",9),e.qZA()(),e.TgZ(23,"tbody"),e.YNc(24,v,15,3,"tr",10),e.qZA()()(),e.TgZ(25,"div",11),e._UZ(26,"ul",12),e.qZA()()()()()),2&t&&(e.xp6(24),e.Q6J("ngForOf",o.surveys))},dependencies:[m.sg,l.rH],styles:['.body-background[_ngcontent-%COMP%]{margin-top:-20px;height:100vh;background:hsla(154,100%,76%,1);background:linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);background:-webkit-linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#84FFC9",endColorstr="#AAB2FF",GradientType=1)}']}),r})();var f=a(5700);function h(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"div",19)(2,"td"),e._UZ(3,"input",20),e.qZA(),e.TgZ(4,"td")(5,"button",21),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.removeQuestions(u))}),e._uU(6," Remove "),e.qZA()()()()}if(2&r){const t=n.index;e.xp6(1),e.Q6J("formGroupName",t)}}function b(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",22)(1,"td"),e._UZ(2,"input",23),e.qZA(),e.TgZ(3,"td")(4,"button",24),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.removeQuestions(u))}),e._uU(5," Remove "),e.qZA()()()}2&r&&e.Q6J("formGroupName",n.index)}const C=l.Bz.forChild([{path:"list",component:g,data:{title:"Surveys"}},{path:"edit/:id",component:(()=>{class r{constructor(t,o,s,u){this.formBuilder=t,this.repository=o,this.router=s,this.activeRoute=u,this.editing=!1,this.surveys=new f.s,this.enableSubmission=!1,this.demo=[],this.model={}}ngOnInit(){this.editing="edit"===this.activeRoute.snapshot.params.update,this.repository.refresh(),this.editing=!0,this.editing&&(Object.assign(this.surveys,this.repository.getSurvey(this.activeRoute.snapshot.params.id)),this.surveyForm=this.formBuilder.group({surveyId:this.surveys.Survey_id,surveyTitle:this.surveys.Survey_title,surveyDescription:this.surveys.Survey_description,surveyCategory:this.surveys.Survey_category,questions:this.formBuilder.array([])}),this.populateData(this.surveys.Survey_id))}onSubmit(){this.repository.modifySurveys(this.surveyForm.value,this.surveys._id),this.router.navigateByUrl("/survey-mgmt/list")}returnToSurveyList(){this.router.navigateByUrl("/survey-mgmt/list")}questions(){return this.surveyForm.get("questions")}newQuestion(){return this.formBuilder.group({question:""})}addQuestions(){this.questions().push(this.newQuestion())}populateData(t){this.repository.getSurveyQuestions(t).subscribe(o=>{console.log(o),o.forEach(s=>{this.demo.push(s),this.questions().push(this.formBuilder.group({question:s.Question}))}),console.log(this.demo)})}removeQuestions(t){this.questions().removeAt(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(y.a),e.Y36(l.F0),e.Y36(l.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-survey-edit"]],decls:36,vars:5,consts:[[1,"body-background"],[1,"container"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","titleTextField",1,"form-label"],["type","text","id","titleTextField","name","title","formControlName","surveyTitle","required","",1,"form-control",3,"value"],["for","descriptionTextField",1,"form-label"],["type","text","id","descriptionTextField","name","description","formControlName","surveyDescription","required","",1,"form-control"],["type","text","id","titleTextField","name","title","formControlName","surveyCategory","required","",1,"form-control",3,"value"],["formArrayName","questions",1,"form-group","mb-3"],["width","500px",1,"form-label"],["width","150px"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","justify-content-center"],["type","reset",1,"btn","btn-secondary","m-3",3,"click"],["type","submit",1,"btn","btn-primary","m-3"],[3,"formGroupName"],["type","text","formControlName","question",1,"form-control"],[1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"body",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Edit Survey Details"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(8,"fieldset",5)(9,"label",6),e._uU(10,"Survey Title"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"fieldset",5)(13,"label",8),e._uU(14,"Survey Description"),e.qZA(),e.TgZ(15,"textarea",9),e._uU(16),e.qZA()(),e.TgZ(17,"fieldset",5)(18,"label",6),e._uU(19,"Survey Category"),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"table",11)(22,"tr")(23,"label",12),e._uU(24,"Questions"),e.qZA(),e._UZ(25,"th")(26,"th"),e.TgZ(27,"th",13)(28,"button",14),e.NdJ("click",function(){return o.addQuestions()}),e._uU(29,"Add More"),e.qZA()()(),e.YNc(30,h,7,1,"tr",15),e.qZA(),e.TgZ(31,"div",16)(32,"button",17),e.NdJ("click",function(){return o.returnToSurveyList()}),e._uU(33,"Cancel"),e.qZA(),e.TgZ(34,"button",18),e._uU(35,"Save"),e.qZA()()()()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",o.surveyForm),e.xp6(4),e.s9C("value",o.surveys.Survey_title),e.xp6(5),e.Oqu(o.surveys.Survey_description),e.xp6(4),e.s9C("value",o.surveys.Survey_category),e.xp6(10),e.Q6J("ngForOf",o.questions().controls))},dependencies:[m.sg,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,i.x0,i.CE],styles:['.body-background[_ngcontent-%COMP%]{margin-top:-20px;height:100vh;background:hsla(154,100%,76%,1);background:linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);background:-webkit-linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#84FFC9",endColorstr="#AAB2FF",GradientType=1)}']}),r})(),data:{title:"Surveys"}},{path:"add",component:(()=>{class r{constructor(t,o,s,u){this.repository=t,this.router=o,this.activeRoute=s,this.fb=u,this.surveyForm=this.fb.group({surveyId:["",i.kI.required],surveyTitle:["",i.kI.required],surveyDescription:["",i.kI.required],surveyCategory:["",i.kI.required],username:localStorage.getItem("username"),questions:this.fb.array([])})}ngOnInit(){this.title=this.activeRoute.snapshot.data.title,this.repository.refresh(),this.surveyId=this.activeRoute.snapshot.params.id}onSubmit(){console.log(this.surveyForm.value),this.repository.createSurvey(this.surveyForm.value),this.router.navigateByUrl("/survey-mgmt/list")}questions(){return this.surveyForm.get("questions")}newQuestion(){return this.fb.group({question:""})}addQuestions(){this.questions().push(this.newQuestion())}removeQuestions(t){this.questions().removeAt(t)}returnToSurveyList(){this.router.navigateByUrl("/survey-mgmt/list")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(y.a),e.Y36(l.F0),e.Y36(l.gz),e.Y36(i.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-survey-create"]],decls:39,vars:2,consts:[[1,"body-background"],[1,"container"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","surveyTextField1",1,"form-label"],["type","text","id","surveyId","name","surveyId","formControlName","surveyId",1,"form-control"],["for","surveyTextField2",1,"form-label"],["type","text","id","surveyTitle","name","surveyTitle","formControlName","surveyTitle",1,"form-control"],["for","surveyTextField3",1,"form-label"],["type","text","id","surveyDescription","name","surveyDescription","formControlName","surveyDescription",1,"form-control"],["for","surveyTextField4",1,"form-label"],["type","text","id","surveyTextField4","name","surveyCategory","formControlName","surveyCategory",1,"form-control"],["formArrayName","questions",1,"form-group","mb-3"],["width","500px",1,"form-label"],["width","150px"],["type","button",1,"btn","btn-primary",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","justify-content-center"],["type","reset",1,"btn","btn-secondary","m-3",3,"click"],["type","submit",1,"btn","btn-primary","m-3"],[3,"formGroupName"],["type","text","formControlName","question",1,"form-control"],[1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"body",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Create Survey"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(8,"fieldset",5)(9,"label",6),e._uU(10,"Survey Id"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"fieldset",5)(13,"label",8),e._uU(14,"Survey Title"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"fieldset",5)(17,"label",10),e._uU(18,"Survey Description"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"fieldset",5)(21,"label",12),e._uU(22,"Survey Category"),e.qZA(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"table",14)(25,"tr")(26,"label",15),e._uU(27,"Questions"),e.qZA(),e._UZ(28,"th")(29,"th"),e.TgZ(30,"th",16)(31,"button",17),e.NdJ("click",function(){return o.addQuestions()}),e._uU(32,"Add More"),e.qZA()()(),e.YNc(33,b,6,1,"tr",18),e.qZA(),e.TgZ(34,"div",19)(35,"button",20),e.NdJ("click",function(){return o.returnToSurveyList()}),e._uU(36," Cancel "),e.qZA(),e.TgZ(37,"button",21),e._uU(38," Submit "),e.qZA()()()()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",o.surveyForm),e.xp6(26),e.Q6J("ngForOf",o.questions().controls))},dependencies:[m.sg,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE],styles:['.body-background[_ngcontent-%COMP%]{margin-top:-20px;height:100vh;background:hsla(154,100%,76%,1);background:linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);background:-webkit-linear-gradient(90deg,hsla(154,100%,76%,1) 0%,hsla(234,100%,83%,1) 50%,hsla(288,100%,81%,1) 100%);filter:progid: DXImageTransform.Microsoft.gradient(startColorstr="#84FFC9",endColorstr="#AAB2FF",GradientType=1)}']}),r})(),data:{title:"Surveys"}}]);let S=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.k,m.ez,i.u5,i.UX,C]}),r})()}}]);